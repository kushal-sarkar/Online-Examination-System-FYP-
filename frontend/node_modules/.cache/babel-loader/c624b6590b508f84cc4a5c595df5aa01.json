{"ast":null,"code":"var _jsxFileName = \"D:\\\\Online-Examination-System-master\\\\Online-Examination-System-master\\\\frontend\\\\src\\\\components\\\\trainee\\\\examPortal\\\\clock.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { LocaltestDone, fetchTestdata } from '../../../actions/traineeAction';\nimport './portal.css';\nimport apis from '../../../services/Apis';\nimport { Post } from '../../../services/axiosCall';\nimport Alert from '../../common/alert';\n\nclass Clock extends Component {\n  constructor(props) {\n    super(props);\n\n    this.endTest = () => {\n      Post({\n        url: \"\".concat(apis.END_TEST),\n        data: {\n          testid: this.props.trainee.testid,\n          userid: this.props.trainee.traineeid\n        }\n      }).then(response => {\n        if (response.data.success) {\n          this.props.fetchTestdata(this.props.trainee.testid, this.props.trainee.traineeid);\n        } else {\n          return Alert('error', 'Error!', response.data.message);\n        }\n      }).catch(error => {\n        return Alert('error', 'Error!', 'Error');\n      });\n    };\n\n    this.clockF = () => {\n      let c = setInterval(() => {\n        console.log('i am done');\n        let l = this.state.localMinutes;\n        let s = this.state.localSeconds;\n\n        if (l == 0 && s == 1) {\n          clearInterval(c);\n          this.endTest();\n        } else {\n          if (s == 0) {\n            s = 59;\n            l = l - 1;\n          } else {\n            s = s - 1;\n          }\n\n          this.setState({\n            localMinutes: l,\n            localSeconds: s\n          });\n        }\n      }, 1000);\n    };\n\n    this.state = {\n      localMinutes: this.props.trainee.m_left,\n      localSeconds: this.props.trainee.s_left\n    };\n  }\n\n  componentDidMount() {\n    this.clockF();\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"clock-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clock-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.state.localMinutes, \" : \", this.state.localSeconds));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  trainee: state.trainee\n});\n\nexport default connect(mapStateToProps, {\n  LocaltestDone,\n  fetchTestdata\n})(Clock);","map":{"version":3,"sources":["D:\\Online-Examination-System-master\\Online-Examination-System-master\\frontend\\src\\components\\trainee\\examPortal\\clock.js"],"names":["React","Component","connect","LocaltestDone","fetchTestdata","apis","Post","Alert","Clock","constructor","props","endTest","url","END_TEST","data","testid","trainee","userid","traineeid","then","response","success","message","catch","error","clockF","c","setInterval","console","log","l","state","localMinutes","s","localSeconds","clearInterval","setState","m_left","s_left","componentDidMount","componentWillUnmount","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport {LocaltestDone,fetchTestdata} from '../../../actions/traineeAction';\r\nimport './portal.css';\r\nimport apis from '../../../services/Apis';\r\nimport { Post } from '../../../services/axiosCall';\r\nimport Alert from '../../common/alert';\r\n\r\nclass Clock extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            localMinutes:this.props.trainee.m_left,\r\n            localSeconds:this.props.trainee.s_left\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.clockF(); \r\n    }\r\n\r\n    endTest =()=>{\r\n        Post({\r\n            url:`${apis.END_TEST}`,\r\n            data:{\r\n                testid: this.props.trainee.testid,\r\n                userid:this.props.trainee.traineeid\r\n            }\r\n        }).then((response)=>{\r\n            if(response.data.success){\r\n                this.props.fetchTestdata(this.props.trainee.testid,this.props.trainee.traineeid)\r\n            }\r\n            else{\r\n                return Alert('error','Error!',response.data.message);\r\n            }\r\n        }).catch((error)=>{\r\n            return Alert('error','Error!','Error');\r\n        })\r\n    }\r\n\r\n\r\n    clockF = ()=>{\r\n        let c = setInterval(()=>{\r\n            console.log('i am done')\r\n            let l = this.state.localMinutes;\r\n            let s = this.state.localSeconds;\r\n            if(l==0 && s==1){\r\n                clearInterval(c);\r\n                this.endTest();\r\n            }\r\n            else{\r\n                if(s==0){\r\n                    s=59;\r\n                    l=l-1;\r\n                }\r\n                else{\r\n                    s=s-1;\r\n                }\r\n                this.setState({\r\n                    localMinutes:l,\r\n                    localSeconds:s\r\n                })\r\n            }\r\n        },1000)\r\n    }\r\n\r\n    componentWillUnmount(){\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"clock-wrapper\">\r\n                <div className=\"clock-container\">{this.state.localMinutes} : {this.state.localSeconds}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    trainee : state.trainee\r\n});\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,{\r\n    LocaltestDone,fetchTestdata\r\n})(Clock);"]},"metadata":{},"sourceType":"module"}