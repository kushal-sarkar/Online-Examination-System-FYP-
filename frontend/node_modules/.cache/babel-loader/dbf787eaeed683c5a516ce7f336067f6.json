{"ast":null,"code":"import auth from '../services/AuthServices';\nexport const login = details => dispatch => {\n  dispatch({\n    type: 'LOGIN',\n    payload: details\n  });\n};\nexport const logout = () => dispatch => {\n  dispatch({\n    type: 'LOGOUT',\n    payload1: 'Manual Logout'\n  });\n};\nexport const wakeUp = () => dispatch => {\n  var t = auth.retriveToken() || null;\n\n  if (t && t !== 'undefined') {\n    auth.wakeUp(t).then(res => {\n      console.log(\"Wakeup success \".concat(res));\n      dispatch({\n        type: 'LOGIN',\n        payload1: t,\n        payload2: res.data.user\n      });\n    }).catch(err => {\n      console.log(\"Wakeup error \".concat(err));\n\n      if (err) {\n        dispatch({\n          type: 'LOGOUT',\n          payload1: 'Token Expired'\n        });\n      }\n    });\n  } else {\n    dispatch({\n      type: 'LOGOUT',\n      payload1: 'No Token'\n    });\n  }\n};","map":{"version":3,"sources":["D:\\Online-Examination-System-master\\Online-Examination-System-master\\frontend\\src\\actions\\loginAction.js"],"names":["auth","login","details","dispatch","type","payload","logout","payload1","wakeUp","t","retriveToken","then","res","console","log","payload2","data","user","catch","err"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,0BAAjB;AACA,OAAO,MAAMC,KAAK,GAAIC,OAAD,IAAYC,QAAQ,IAAG;AACxCA,EAAAA,QAAQ,CAAC;AACNC,IAAAA,IAAI,EAAG,OADD;AAENC,IAAAA,OAAO,EAAGH;AAFJ,GAAD,CAAR;AAKH,CANM;AASP,OAAO,MAAMI,MAAM,GAAG,MAAKH,QAAQ,IAAG;AAClCA,EAAAA,QAAQ,CAAC;AACNC,IAAAA,IAAI,EAAG,QADD;AAENG,IAAAA,QAAQ,EAAG;AAFL,GAAD,CAAR;AAIH,CALM;AAQP,OAAO,MAAMC,MAAM,GAAG,MAAKL,QAAQ,IAAG;AAClC,MAAIM,CAAC,GAAGT,IAAI,CAACU,YAAL,MAAuB,IAA/B;;AACA,MAAGD,CAAC,IAAIA,CAAC,KAAG,WAAZ,EAAwB;AACpBT,IAAAA,IAAI,CAACQ,MAAL,CAAYC,CAAZ,EAAeE,IAAf,CAAqBC,GAAD,IAAO;AACvBC,MAAAA,OAAO,CAACC,GAAR,0BAA8BF,GAA9B;AACAT,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAG,OADF;AAELG,QAAAA,QAAQ,EAACE,CAFJ;AAGLM,QAAAA,QAAQ,EAACH,GAAG,CAACI,IAAJ,CAASC;AAHb,OAAD,CAAR;AAKH,KAPD,EAOGC,KAPH,CAOUC,GAAD,IAAO;AACZN,MAAAA,OAAO,CAACC,GAAR,wBAA4BK,GAA5B;;AACA,UAAGA,GAAH,EAAO;AACHhB,QAAAA,QAAQ,CAAC;AACLC,UAAAA,IAAI,EAAG,QADF;AAELG,UAAAA,QAAQ,EAAG;AAFN,SAAD,CAAR;AAIH;AACJ,KAfD;AAgBH,GAjBD,MAkBI;AACAJ,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAG,QADF;AAELG,MAAAA,QAAQ,EAAG;AAFN,KAAD,CAAR;AAIH;AACJ,CA1BM","sourcesContent":["import auth from '../services/AuthServices';\r\nexport const login = (details)=> dispatch =>{\r\n    dispatch({\r\n       type : 'LOGIN',\r\n       payload : details\r\n    })\r\n    \r\n}\r\n\r\n\r\nexport const logout = ()=> dispatch =>{\r\n    dispatch({\r\n       type : 'LOGOUT',\r\n       payload1 : 'Manual Logout'\r\n    })\r\n}\r\n\r\n\r\nexport const wakeUp = ()=> dispatch =>{\r\n    var t = auth.retriveToken() || null;\r\n    if(t && t!=='undefined'){\r\n        auth.wakeUp(t).then((res)=>{\r\n            console.log(`Wakeup success ${res}`)\r\n            dispatch({\r\n                type : 'LOGIN',\r\n                payload1:t,\r\n                payload2:res.data.user\r\n            })\r\n        }).catch((err)=>{\r\n            console.log(`Wakeup error ${err}`)\r\n            if(err){\r\n                dispatch({\r\n                    type : 'LOGOUT',\r\n                    payload1 : 'Token Expired'\r\n                })\r\n            }\r\n        })\r\n    }\r\n    else{\r\n        dispatch({\r\n            type : 'LOGOUT',\r\n            payload1 : 'No Token'\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}